{"ast":null,"code":"import _objectSpread from\"C:/Users/user/Desktop/StoreOrderSystem_ReadyToDeploy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Stores=()=>{const[stores,setStores]=useState([]);const[form,setForm]=useState({name:\"\",type:\"Franchise\"});const[editingIndex,setEditingIndex]=useState(null);const[toast,setToast]=useState(\"\");useEffect(()=>{fetchStores();},[]);const fetchStores=async()=>{const res=await fetch(\"${process.env.REACT_APP_API_BASE}/api/stores\");const data=await res.json();setStores(data);};const handleSubmit=async()=>{if(!form.name.trim()){showToast(\"‚ùó Please enter a store name.\");return;}if(editingIndex!==null){await fetch(\"\".concat(process.env.REACT_APP_API_BASE,\"/api/stores/\").concat(editingIndex),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(form)});showToast(\"‚úÖ Store updated!\");}else{await fetch(\"${process.env.REACT_APP_API_BASE}/api/stores\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(form)});showToast(\"‚úÖ Store added!\");}setForm({name:\"\",type:\"Franchise\"});setEditingIndex(null);fetchStores();};const handleEdit=index=>{const selected=stores[index];setForm({name:selected.name,type:selected.type});setEditingIndex(index);};const handleDelete=async index=>{if(!window.confirm(\"Delete this store?\"))return;await fetch(\"\".concat(process.env.REACT_APP_API_BASE,\"/api/stores/\").concat(index),{method:\"DELETE\"});showToast(\"üóëÔ∏è Store deleted.\");fetchStores();};const handleCancel=()=>{setEditingIndex(null);setForm({name:\"\",type:\"Franchise\"});};const downloadStoresExcel=()=>{window.open(\"${process.env.REACT_APP_API_BASE}/api/stores/export\",\"_blank\");};const showToast=msg=>{setToast(msg);setTimeout(()=>setToast(\"\"),3000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-2\",children:editingIndex!==null?\"Edit Store\":\"Add Store\"}),toast&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#e0ffe0\",padding:\"8px\",marginBottom:\"1rem\",borderRadius:\"4px\"},children:toast}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{display:\"flex\",gap:\"0.5rem\",alignItems:\"center\",marginBottom:\"1rem\"},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Store Name\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))}),/*#__PURE__*/_jsxs(\"select\",{value:form.type,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Franchise\",children:\"Franchise\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Location\",children:\"Location\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:editingIndex!==null?\"Update\":\"Add\"}),editingIndex!==null&&/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadStoresExcel,style:{marginLeft:\"auto\"},children:\"\\uD83D\\uDCE5 Download Excel\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"All Stores\"}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"8\",style:{width:\"100%\",borderCollapse:\"collapse\",marginTop:\"1rem\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:\"#f0f0f0\"},children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Store Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[stores.map((store,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:store.name}),/*#__PURE__*/_jsx(\"td\",{children:store.type}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(index),children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(index),style:{marginLeft:\"0.5rem\"},children:\"\\u274C\"})]})]},index)),stores.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",style:{textAlign:\"center\"},children:\"No stores added yet.\"})})]})]})]});};export default Stores;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Stores","stores","setStores","form","setForm","name","type","editingIndex","setEditingIndex","toast","setToast","fetchStores","res","fetch","data","json","handleSubmit","trim","showToast","concat","process","env","REACT_APP_API_BASE","method","headers","body","JSON","stringify","handleEdit","index","selected","handleDelete","window","confirm","handleCancel","downloadStoresExcel","open","msg","setTimeout","className","children","style","backgroundColor","padding","marginBottom","borderRadius","display","gap","alignItems","placeholder","value","onChange","e","_objectSpread","target","onClick","marginLeft","border","cellPadding","width","borderCollapse","marginTop","map","store","length","colSpan","textAlign"],"sources":["C:/Users/user/Desktop/StoreOrderSystem_ReadyToDeploy/client/src/pages/Stores.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst Stores = () => {\r\n  const [stores, setStores] = useState([]);\r\n  const [form, setForm] = useState({ name: \"\", type: \"Franchise\" });\r\n  const [editingIndex, setEditingIndex] = useState(null);\r\n  const [toast, setToast] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchStores();\r\n  }, []);\r\n\r\n  const fetchStores = async () => {\r\n    const res = await fetch(\"${process.env.REACT_APP_API_BASE}/api/stores\");\r\n    const data = await res.json();\r\n    setStores(data);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!form.name.trim()) {\r\n      showToast(\"‚ùó Please enter a store name.\");\r\n      return;\r\n    }\r\n\r\n    if (editingIndex !== null) {\r\n      await fetch(`${process.env.REACT_APP_API_BASE}/api/stores/${editingIndex}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(form),\r\n      });\r\n      showToast(\"‚úÖ Store updated!\");\r\n    } else {\r\n      await fetch(\"${process.env.REACT_APP_API_BASE}/api/stores\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(form),\r\n      });\r\n      showToast(\"‚úÖ Store added!\");\r\n    }\r\n\r\n    setForm({ name: \"\", type: \"Franchise\" });\r\n    setEditingIndex(null);\r\n    fetchStores();\r\n  };\r\n\r\n  const handleEdit = (index) => {\r\n    const selected = stores[index];\r\n    setForm({ name: selected.name, type: selected.type });\r\n    setEditingIndex(index);\r\n  };\r\n\r\n  const handleDelete = async (index) => {\r\n    if (!window.confirm(\"Delete this store?\")) return;\r\n    await fetch(`${process.env.REACT_APP_API_BASE}/api/stores/${index}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    showToast(\"üóëÔ∏è Store deleted.\");\r\n    fetchStores();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingIndex(null);\r\n    setForm({ name: \"\", type: \"Franchise\" });\r\n  };\r\n\r\n  const downloadStoresExcel = () => {\r\n    window.open(\"${process.env.REACT_APP_API_BASE}/api/stores/export\", \"_blank\");\r\n  };\r\n\r\n  const showToast = (msg) => {\r\n    setToast(msg);\r\n    setTimeout(() => setToast(\"\"), 3000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2 className=\"text-xl font-bold mb-2\">{editingIndex !== null ? \"Edit Store\" : \"Add Store\"}</h2>\r\n\r\n      {toast && (\r\n        <div style={{ backgroundColor: \"#e0ffe0\", padding: \"8px\", marginBottom: \"1rem\", borderRadius: \"4px\" }}>\r\n          {toast}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"card\" style={{ display: \"flex\", gap: \"0.5rem\", alignItems: \"center\", marginBottom: \"1rem\" }}>\r\n        <input\r\n          placeholder=\"Store Name\"\r\n          value={form.name}\r\n          onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n        />\r\n        <select\r\n          value={form.type}\r\n          onChange={(e) => setForm({ ...form, type: e.target.value })}\r\n        >\r\n          <option value=\"Franchise\">Franchise</option>\r\n          <option value=\"Location\">Location</option>\r\n        </select>\r\n        <button onClick={handleSubmit}>\r\n          {editingIndex !== null ? \"Update\" : \"Add\"}\r\n        </button>\r\n        {editingIndex !== null && (\r\n          <button onClick={handleCancel}>\r\n            Cancel\r\n          </button>\r\n        )}\r\n        <button onClick={downloadStoresExcel} style={{ marginLeft: \"auto\" }}>\r\n          üì• Download Excel\r\n        </button>\r\n      </div>\r\n\r\n      <h3>All Stores</h3>\r\n      <table border=\"1\" cellPadding=\"8\" style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: \"1rem\" }}>\r\n        <thead>\r\n          <tr style={{ backgroundColor: \"#f0f0f0\" }}>\r\n            <th>#</th>\r\n            <th>Store Name</th>\r\n            <th>Type</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {stores.map((store, index) => (\r\n            <tr key={index}>\r\n              <td>{index + 1}</td>\r\n              <td>{store.name}</td>\r\n              <td>{store.type}</td>\r\n              <td>\r\n                <button onClick={() => handleEdit(index)}>‚úèÔ∏è</button>\r\n                <button onClick={() => handleDelete(index)} style={{ marginLeft: \"0.5rem\" }}>‚ùå</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          {stores.length === 0 && (\r\n            <tr>\r\n              <td colSpan=\"4\" style={{ textAlign: \"center\" }}>No stores added yet.</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stores;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}