{"ast":null,"code":"import _objectSpread from\"C:/Users/user/Desktop/StoreOrderSystem_ReadyToDeploy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Payments=()=>{const[stores,setStores]=useState([]);const[form,setForm]=useState({storeName:\"\",customer:\"\",amount:\"\",mode:\"Cash\",type:\"Full\"});useEffect(()=>{fetch(\"${process.env.REACT_APP_API_BASE}/api/stores\").then(res=>res.json()).then(data=>setStores(data));},[]);const handleSubmit=async()=>{const payload=_objectSpread(_objectSpread({},form),{},{date:new Date().toLocaleString()});await fetch(\"${process.env.REACT_APP_API_BASE}/api/payments\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});alert(\"Payment recorded\");};const handleDownloadPayments=()=>{if(!form.storeName){alert(\"Please select a store to download payments.\");return;}window.open(\"\".concat(process.env.REACT_APP_API_BASE,\"/api/export/payments/\").concat(form.storeName),\"_blank\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Record Payment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"select\",{value:form.storeName,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{storeName:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Store\"}),stores.map((s,i)=>/*#__PURE__*/_jsx(\"option\",{value:s.name,children:s.name},i))]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Customer\",value:form.customer,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{customer:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Amount\",value:form.amount,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{amount:e.target.value}))}),/*#__PURE__*/_jsxs(\"select\",{value:form.mode,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{mode:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Cash\"}),/*#__PURE__*/_jsx(\"option\",{children:\"UPI\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Card\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:form.type,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Full\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Partial\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary\",onClick:handleDownloadPayments,children:\"\\uD83D\\uDCE5 Download Payments Excel\"})]})]});};export default Payments;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Payments","stores","setStores","form","setForm","storeName","customer","amount","mode","type","fetch","then","res","json","data","handleSubmit","payload","_objectSpread","date","Date","toLocaleString","method","headers","body","JSON","stringify","alert","handleDownloadPayments","window","open","concat","process","env","REACT_APP_API_BASE","className","children","value","onChange","e","target","map","s","i","name","placeholder","onClick"],"sources":["C:/Users/user/Desktop/StoreOrderSystem_ReadyToDeploy/client/src/pages/Payments.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst Payments = () => {\r\n  const [stores, setStores] = useState([]);\r\n  const [form, setForm] = useState({\r\n    storeName: \"\",\r\n    customer: \"\",\r\n    amount: \"\",\r\n    mode: \"Cash\",\r\n    type: \"Full\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetch(\"${process.env.REACT_APP_API_BASE}/api/stores\")\r\n      .then(res => res.json())\r\n      .then(data => setStores(data));\r\n  }, []);\r\n\r\n  const handleSubmit = async () => {\r\n    const payload = {\r\n      ...form,\r\n      date: new Date().toLocaleString()\r\n    };\r\n\r\n    await fetch(\"${process.env.REACT_APP_API_BASE}/api/payments\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payload)\r\n    });\r\n\r\n    alert(\"Payment recorded\");\r\n  };\r\n\r\n  const handleDownloadPayments = () => {\r\n    if (!form.storeName) {\r\n      alert(\"Please select a store to download payments.\");\r\n      return;\r\n    }\r\n    window.open(`${process.env.REACT_APP_API_BASE}/api/export/payments/${form.storeName}`, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Record Payment</h2>\r\n      <div className=\"card\">\r\n        <select\r\n          value={form.storeName}\r\n          onChange={(e) => setForm({ ...form, storeName: e.target.value })}\r\n        >\r\n          <option value=\"\">Select Store</option>\r\n          {stores.map((s, i) => (\r\n            <option key={i} value={s.name}>{s.name}</option>\r\n          ))}\r\n        </select>\r\n        <input\r\n          placeholder=\"Customer\"\r\n          value={form.customer}\r\n          onChange={(e) => setForm({ ...form, customer: e.target.value })}\r\n        />\r\n        <input\r\n          placeholder=\"Amount\"\r\n          value={form.amount}\r\n          onChange={(e) => setForm({ ...form, amount: e.target.value })}\r\n        />\r\n        <select\r\n          value={form.mode}\r\n          onChange={(e) => setForm({ ...form, mode: e.target.value })}\r\n        >\r\n          <option>Cash</option>\r\n          <option>UPI</option>\r\n          <option>Card</option>\r\n        </select>\r\n        <select\r\n          value={form.type}\r\n          onChange={(e) => setForm({ ...form, type: e.target.value })}\r\n        >\r\n          <option>Full</option>\r\n          <option>Partial</option>\r\n        </select>\r\n        <button onClick={handleSubmit}>Submit</button>\r\n        <button className=\"secondary\" onClick={handleDownloadPayments}>ðŸ“¥ Download Payments Excel</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payments;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}