{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[summary,setSummary]=useState(null);useEffect(()=>{fetchSummary();const interval=setInterval(fetchSummary,10000);return()=>clearInterval(interval);},[]);const fetchSummary=()=>{fetch(\"${process.env.REACT_APP_API_BASE}/api/summary\").then(res=>res.json()).then(data=>setSummary(data));};if(!summary)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading summary...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Stores: \",summary.totalStores]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Orders: \",summary.totalOrders]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Store\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Orders\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delivered\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Preparing\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pending\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:summary.storeStats.map((s,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:s.store}),/*#__PURE__*/_jsx(\"td\",{children:s.orderCount}),/*#__PURE__*/_jsx(\"td\",{children:s.delivered}),/*#__PURE__*/_jsx(\"td\",{children:s.preparing}),/*#__PURE__*/_jsx(\"td\",{children:s.pending})]},i))})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Dashboard","summary","setSummary","fetchSummary","interval","setInterval","clearInterval","fetch","then","res","json","data","children","totalStores","totalOrders","storeStats","map","s","i","store","orderCount","delivered","preparing","pending"],"sources":["C:/Users/user/Desktop/StoreOrderSystem_ReadyToDeploy/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst Dashboard = () => {\r\n  const [summary, setSummary] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchSummary();\r\n    const interval = setInterval(fetchSummary, 10000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const fetchSummary = () => {\r\n    fetch(\"${process.env.REACT_APP_API_BASE}/api/summary\")\r\n      .then(res => res.json())\r\n      .then(data => setSummary(data));\r\n  };\r\n\r\n  if (!summary) return <div>Loading summary...</div>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Dashboard</h2>\r\n      <p>Total Stores: {summary.totalStores}</p>\r\n      <p>Total Orders: {summary.totalOrders}</p>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Store</th><th>Orders</th><th>Delivered</th><th>Preparing</th><th>Pending</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {summary.storeStats.map((s, i) => (\r\n            <tr key={i}>\r\n              <td>{s.store}</td>\r\n              <td>{s.orderCount}</td>\r\n              <td>{s.delivered}</td>\r\n              <td>{s.preparing}</td>\r\n              <td>{s.pending}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACdS,YAAY,CAAC,CAAC,CACd,KAAM,CAAAC,QAAQ,CAAGC,WAAW,CAACF,YAAY,CAAE,KAAK,CAAC,CACjD,MAAO,IAAMG,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAD,YAAY,CAAGA,CAAA,GAAM,CACzBI,KAAK,CAAC,+CAA+C,CAAC,CACnDC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAIT,UAAU,CAACS,IAAI,CAAC,CAAC,CACnC,CAAC,CAED,GAAI,CAACV,OAAO,CAAE,mBAAOJ,IAAA,QAAAe,QAAA,CAAK,oBAAkB,CAAK,CAAC,CAElD,mBACEb,KAAA,QAAAa,QAAA,eACEf,IAAA,OAAAe,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBb,KAAA,MAAAa,QAAA,EAAG,gBAAc,CAACX,OAAO,CAACY,WAAW,EAAI,CAAC,cAC1Cd,KAAA,MAAAa,QAAA,EAAG,gBAAc,CAACX,OAAO,CAACa,WAAW,EAAI,CAAC,cAC1Cf,KAAA,UAAAa,QAAA,eACEf,IAAA,UAAAe,QAAA,cACEb,KAAA,OAAAa,QAAA,eACEf,IAAA,OAAAe,QAAA,CAAI,OAAK,CAAI,CAAC,cAAAf,IAAA,OAAAe,QAAA,CAAI,QAAM,CAAI,CAAC,cAAAf,IAAA,OAAAe,QAAA,CAAI,WAAS,CAAI,CAAC,cAAAf,IAAA,OAAAe,QAAA,CAAI,WAAS,CAAI,CAAC,cAAAf,IAAA,OAAAe,QAAA,CAAI,SAAO,CAAI,CAAC,EAC/E,CAAC,CACA,CAAC,cACRf,IAAA,UAAAe,QAAA,CACGX,OAAO,CAACc,UAAU,CAACC,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBAC3BnB,KAAA,OAAAa,QAAA,eACEf,IAAA,OAAAe,QAAA,CAAKK,CAAC,CAACE,KAAK,CAAK,CAAC,cAClBtB,IAAA,OAAAe,QAAA,CAAKK,CAAC,CAACG,UAAU,CAAK,CAAC,cACvBvB,IAAA,OAAAe,QAAA,CAAKK,CAAC,CAACI,SAAS,CAAK,CAAC,cACtBxB,IAAA,OAAAe,QAAA,CAAKK,CAAC,CAACK,SAAS,CAAK,CAAC,cACtBzB,IAAA,OAAAe,QAAA,CAAKK,CAAC,CAACM,OAAO,CAAK,CAAC,GALbL,CAML,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}